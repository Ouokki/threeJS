<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Doc Technique</title>
<style>
  :root{
    --bg:#f7f9fb; --card:#ffffff; --text:#1f2937; --muted:#6b7280;
    --brand:#1e3a8a; --brand-2:#3b82f6; --border:#e5e7eb; --badge:#eef2ff;
    --radius:12px;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Segoe UI, Roboto, Arial, sans-serif;background:var(--bg);color:var(--text)}
  .wrap{max-width:1100px;margin:auto;padding:32px 20px}
  header{display:flex;gap:16px;align-items:center;margin-bottom:24px}
  .logo{width:42px;height:42px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand-2));display:grid;place-items:center;color:#fff;font-weight:700}
  h1{margin:0;font-size:28px}
  .desc{color:var(--muted);margin:6px 0 0}
  .toolbar{display:flex;flex-wrap:wrap;gap:12px;margin:18px 0 26px}
  .search{flex:1 1 260px;display:flex;align-items:center;background:#fff;border:1px solid var(--border);border-radius:10px;padding:10px 12px;gap:8px}
  .search input{border:0;outline:0;width:100%;font-size:14px;background:transparent}
  .filters{display:flex;gap:8px;flex-wrap:wrap}
  .chip{border:1px solid var(--border);background:#fff;border-radius:999px;padding:8px 12px;font-size:12px;color:var(--text);cursor:pointer}
  .chip.active{border-color:var(--brand-2);background:var(--badge);color:var(--brand)}
  .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;display:flex;gap:14px;transition:transform .12s ease, box-shadow .12s ease}
  .card:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(30,58,138,.08)}
  .ic{min-width:36px;height:36px;border-radius:10px;display:grid;place-items:center;color:#fff;background:linear-gradient(135deg,var(--brand-2),var(--brand))}
  .card h3{margin:0 0 6px;font-size:16px}
  .card p{margin:0 0 10px;color:var(--muted);font-size:13px}
  .meta{display:flex;gap:8px;flex-wrap:wrap}
  .badge{background:var(--badge);color:var(--brand);border-radius:999px;padding:4px 8px;font-size:11px}
  .card a{display:inline-flex;align-items:center;gap:6px;text-decoration:none;color:var(--brand);font-weight:600}
  .empty{display:none;text-align:center;color:var(--muted);padding:24px}
  footer{margin-top:28px;color:var(--muted);font-size:12px;text-align:center}
  @media (prefers-color-scheme: dark){
    :root{--bg:#0b1020;--card:#0f172a;--text:#e5e7eb;--muted:#94a3b8;--border:#1f2a44;--badge:#0b254a}
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="logo">DT</div>
    <div>
      <h1>Doc Technique</h1>
      <p class="desc">Portail des guides, procédures et références pour l’équipe.</p>
    </div>
  </header>

  <div class="toolbar">
    <label class="search" aria-label="Rechercher un article">
      <!-- simple SVG loupe -->
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="11" cy="11" r="7" stroke="#64748b" stroke-width="2"/><path d="M20 20l-3.5-3.5" stroke="#64748b" stroke-width="2" stroke-linecap="round"/></svg>
      <input id="q" type="search" placeholder="Rechercher un article, ex. API, déploiement…" />
    </label>
    <div class="filters" id="filters">
      <button class="chip active" data-tag="all">Tous</button>
      <button class="chip" data-tag="API">API</button>
      <button class="chip" data-tag="Déploiement">Déploiement</button>
      <button class="chip" data-tag="Sécurité">Sécurité</button>
      <button class="chip" data-tag="Guides">Guides</button>
    </div>
  </div>

  <!-- CARDS: change only href, titles, descriptions, and badges -->
  <section class="grid" id="cards">
    <article class="card" data-tags="API,Guides">
      <div class="ic">API</div>
      <div>
        <h3><a href="/sites/DocTechnique/Pages/Guide-API-v1.aspx">Guide API v1</a></h3>
        <p>Structures de requêtes/réponses, auth, limites et exemples.</p>
        <div class="meta">
          <span class="badge">API</span><span class="badge">Guides</span>
        </div>
      </div>
    </article>

    <article class="card" data-tags="Déploiement,Guides">
      <div class="ic">CI</div>
      <div>
        <h3><a href="/sites/DocTechnique/Pages/Deploiement-CI-CD.aspx">Déploiement CI/CD</a></h3>
        <p>Pipeline Azure DevOps, variables, environnements, rollbacks.</p>
        <div class="meta">
          <span class="badge">Déploiement</span><span class="badge">Guides</span>
        </div>
      </div>
    </article>

    <article class="card" data-tags="Sécurité">
      <div class="ic">SEC</div>
      <div>
        <h3><a href="/sites/DocTechnique/Pages/Guide-Securite.aspx">Guide Sécurité</a></h3>
        <p>RBAC, secrets, journalisation, conformité et bonnes pratiques.</p>
        <div class="meta">
          <span class="badge">Sécurité</span>
        </div>
      </div>
    </article>

    <article class="card" data-tags="Guides">
      <div class="ic">LOG</div>
      <div>
        <h3><a href="/sites/DocTechnique/Pages/Observation-Logs.aspx">Observation & Logs</a></h3>
        <p>Convention de logs, corrélation, dashboards, alerting.</p>
        <div class="meta">
          <span class="badge">Guides</span>
        </div>
      </div>
    </article>

    <!-- Dupliquez <article> pour ajouter d’autres liens -->
  </section>

  <div class="empty" id="empty">Aucun article ne correspond à votre recherche/filtre.</div>

  <footer>&copy; 2025 · Espace Doc Technique</footer>
</div>

<script>
  // Filtre par recherche + tags
  const q = document.getElementById('q');
  const cards = [...document.querySelectorAll('#cards .card')];
  const chips = [...document.querySelectorAll('.chip')];
  let activeTag = 'all';

  function applyFilters(){
    const term = (q.value || '').toLowerCase();
    let visible = 0;
    cards.forEach(c=>{
      const text = c.innerText.toLowerCase();
      const tags = (c.dataset.tags||'').split(',').map(s=>s.trim());
      const tagMatch = activeTag==='all' || tags.includes(activeTag);
      const termMatch = !term || text.includes(term);
      const show = tagMatch && termMatch;
      c.style.display = show ? '' : 'none';
      if(show) visible++;
    });
    document.getElementById('empty').style.display = visible? 'none':'block';
  }

  q.addEventListener('input', applyFilters);
  chips.forEach(ch=>{
    ch.addEventListener('click', ()=>{
      chips.forEach(c=>c.classList.remove('active'));
      ch.classList.add('active');
      activeTag = ch.dataset.tag;
      applyFilters();
    });
  });

  // Deep-link: ?tag=Sécurité&q=token
  const p = new URLSearchParams(location.search);
  if(p.get('tag')) {
    const t = p.get('tag');
    const btn = chips.find(c=>c.dataset.tag===t);
    if(btn){ btn.click(); }
  }
  if(p.get('q')) { q.value = p.get('q'); applyFilters(); }
</script>
</body>
</html>